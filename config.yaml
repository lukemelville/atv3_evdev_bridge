name: "ATV3 Evdev Bridge"
version: "2.1"
slug: "atv3_evdev_bridge"
description: "Reads Remoter ATV3 Bluetooth evdev input and emits HA events with full button mapping."
arch:
  - aarch64

startup: services
boot: auto
init: false

# We are calling the HA REST API proxy at http://supervisor/core/api/...
homeassistant_api: true
# Safe to enable; also ensures Supervisor token is available on most setups
hassio_api: true

# You already proved you need elevated access to /dev/input
apparmor: false
full_access: true

options:
  target_contains: "Remoter ATV3"
  event_type: "atv3_evdev_bridge_command_received"
  grab_device: true
  ignore_scancodes: "700aa"
  hold_buttons: "up,down,left,right,vol_up,vol_down,ch_up,ch_down"
  key_map_overrides: ""
  scan_map_overrides: ""
  hold_delay: 0.25
  hold_repeat: 0.10
  event_queue_size: 256
  event_post_timeout: 3.0
  log_level: "INFO"

schema:
  target_contains: str
  event_type: str
  grab_device: bool
  ignore_scancodes: str
  hold_buttons: str
  key_map_overrides: str
  scan_map_overrides: str
  hold_delay: float
  hold_repeat: float
  event_queue_size: int
  event_post_timeout: float
  log_level: str
